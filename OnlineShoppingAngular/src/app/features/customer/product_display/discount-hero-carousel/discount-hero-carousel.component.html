<section class="discount-hero-carousel" *ngIf="discounts.length > 0">
  <div class="carousel-container">
    <!-- Image Side -->
    <div class="image-side">
      <div class="image-container" [@slideInLeft]>
        <img
          [src]="currentDiscount?.imgUrl || 'https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-71KhMA44aIVtaoJRsptDGWHpDNzxgf.png'"
          [alt]="currentDiscount?.name"
          class="discount-image"
          [@imageZoom]
        />
        <div class="image-fade-overlay"></div>
        <div class="image-decoration">
          <div class="decoration-circle decoration-circle-1"></div>
          <div class="decoration-circle decoration-circle-2"></div>
          <div class="decoration-line decoration-line-1"></div>
          <div class="decoration-line decoration-line-2"></div>
        </div>
      </div>
    </div>
    <!-- Content Side -->
    <div class="content-side">
      <div class="content-wrapper">
        <!-- Event Badge -->
        <div class="event-badge" [@slideInRight]>
          <div class="badge-glow"></div>
          <i class="fas fa-sparkles"></i>
          <span>{{ currentDiscount?.type === 'AUTO' ? 'SPECIAL OFFER' : 'EXCLUSIVE DEAL' }}</span>
        </div>
        <!-- Main Content -->
        <div class="main-content-home">
          <h1 class="discount-title" [@slideInRight]>
            <span class="title-highlight">{{ currentDiscount?.name }}</span>
          </h1>
          <!-- Countdown Timer -->
          <div class="countdown-timer" *ngIf="currentDiscount?.endDate" style="width: 400px;margin-left: -30px; ">
            <div class="timer-icon-wrapper" style="margin-left: -10px;">
              <i class="fas fa-clock"></i>
            </div>
            <span class="timer-label" >Ends in:</span>
            <div class="countdown-wrapper" style="margin-left: -10px;">
              <div class="time-box">
                <div class="number">{{ countdownParts.days }}</div>
                <div class="label">Days</div>
              </div>
              <div class="time-box">
                <div class="number">{{ countdownParts.hours }}</div>
                <div class="label">Hours</div>
              </div>
              <div class="time-box">
                <div class="number">{{ countdownParts.minutes }}</div>
                <div class="label">Minutes</div>
              </div>
              <div class="time-box">
                <div class="number">{{ countdownParts.seconds }}</div>
                <div class="label">Seconds</div>
              </div>
            </div>
          </div>
          <!-- Mechanisms -->
          <div class="mechanisms-container" *ngIf="getVisibleMechanisms().length > 0" [@slideInRight]>
            <div class="mechanism-pill" *ngFor="let mechanism of getVisibleMechanisms(); let i = index" [@staggerIn]="i">
              <div class="pill-glow"></div>
              <span>{{ getMechanismText(mechanism) }}</span>
            </div>
            <div class="mechanism-pill more-pill" *ngIf="getHiddenMechanismsCount() > 0" [@staggerIn]="3">
              <div class="pill-glow"></div>
              <i class="fas fa-plus"></i>
              <span>+{{ getHiddenMechanismsCount() }} more</span>
            </div>
          </div>
          <!-- Action Buttons -->
          <div class="action-buttons" [@slideInRight] style="margin-top: -10px;">
            <button class="primary-btn" (click)="onViewDetails()">
              <div class="btn-bg"></div>
              <div class="btn-content">
                <span>View Details</span>
                <i class="fas fa-arrow-right"></i>
              </div>
            </button>
            <button class="secondary-btn" (click)="onShopNow()">
              <div class="btn-bg"></div>
              <div class="btn-content">
                <span>Shop Now</span>
                <i class="fas fa-external-link-alt"></i>
              </div>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Navigation -->
  <div class="navigation-controls" *ngIf="discounts.length > 1">
    <div class="slide-indicators">
      <button
        *ngFor="let discount of discounts; let i = index"
        class="indicator"
        [class.active]="i === currentIndex"
        (click)="goToSlide(i)"
        [attr.aria-label]="'Go to slide ' + (i + 1)"
        [@indicatorPulse]="i === currentIndex ? 'active' : 'inactive'"
      >
        <div class="indicator-glow"></div>
      </button>
    </div>
    <div class="arrow-navigation">
      <button class="nav-arrow prev" (click)="goToPrevious()" [@buttonHover]>
        <div class="arrow-bg"></div>
        <i class="fas fa-chevron-left"></i>
      </button>
      <button class="nav-arrow next" (click)="goToNext()" [@buttonHover]>
        <div class="arrow-bg"></div>
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
  </div>
</section>

<app-header></app-header>

<div class="account-settings-container" style="margin-top:-80px;">
  <div class="row g-0">
    <!-- Sidebar Navigation -->
    <div class="col-lg-3 col-xl-3">
      <div class="account-sidebar bg-white border-end">
        <!-- Sidebar Header -->
        <div class="sidebar-header p-4 border-bottom">
          <div class="d-flex align-items-center">
            <div class="user-avatar me-3">
              <img [src]="currentUser?.profile || '/assets/images/default-avatar.png'" alt="Profile"
                   class="rounded-circle" width="48" height="48">
            </div>
            <div>
              <h6 class="mb-1 fw-semibold text-primary">{{ currentUser?.name || 'User' }}</h6>
              <small class="text-muted">Account Settings</small>
            </div>
          </div>
        </div>

        <!-- Navigation Menu -->
        <div class="sidebar-menu p-3">
          <!-- Personal Section -->
          <div class="menu-section mb-4">
            <h6 class="menu-section-title text-uppercase text-muted fw-bold mb-3"
                style="font-size: 0.75rem; letter-spacing: 0.5px;">
              Personal
            </h6>

            <!-- Profile Info -->
            <div class="menu-item mb-2" [class.active]="activeSection === 'profile'"
                 (click)="setActiveSection('profile')" role="button">
              <div class="d-flex align-items-center p-3 rounded-3 menu-item-content">
                <div class="menu-icon me-3">
                  <i class="bi bi-person-circle fs-5"></i>
                </div>
                <div class="flex-grow-1">
                  <div class="menu-title fw-medium">Profile Info</div>
                  <small class="menu-subtitle text-muted">Personal details & password</small>
                </div>
                <i class="bi bi-chevron-right text-muted"></i>
              </div>
            </div>

            <!-- Location -->
            <div class="menu-item mb-2" [class.active]="activeSection === 'location'"
              (click)="setActiveSection('location')" role="button">
              <div class="d-flex align-items-center p-3 rounded-3 menu-item-content">
                <div class="menu-icon me-3">
                  <i class="bi bi-geo-alt fs-5"></i>
                </div>
                <div class="flex-grow-1">
                  <div class="menu-title fw-medium">Location</div>
                  <small class="menu-subtitle text-muted">Manage your addresses</small>
                </div>
                <i class="bi bi-chevron-right text-muted"></i>
              </div>
            </div>
          </div>
        </div>

        <!-- Sidebar Footer -->
        <div class="sidebar-footer p-3 mt-auto border-top">
          <div class="d-flex align-items-center p-3 bg-light rounded-3" role="button">
            <i class="bi bi-question-circle text-primary me-3 fs-5"></i>
            <div>
              <div class="fw-medium">Need Help?</div>
              <small class="text-muted">Contact support</small>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content Area -->
    <div class="col-lg-9 col-xl-9">
      <div class="main-content p-4 p-lg-5">
        <div *ngIf="isLoading" class="text-center py-5">
          <div class="spinner-border text-primary mb-3" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
          <p class="text-muted">Loading account information...</p>
        </div>

        <!-- Dynamic Component Load Area -->
        <router-outlet *ngIf="!isLoading"></router-outlet>
      </div>
    </div>
  </div>
</div>
